Mechanistically convert this Rust program to C++. Ensure the logic within the solve method is preserved.
